<% if @user && @user.errors.any? %>
  <div>
    <strong>Some issues with the new user. please fix them</strong>
    <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<h1>Signup</h1>
<form method="post" action="/user">
  <div>
    <label>Email:</label>
    <input type="text" name="email" value="<%= @user && @user.email %>">
  </div>
  <div>
    <p>password must be at least 5 characters long</p>
    <label>Password:</label>
    <input type="password" name="password" value="<%= @user && @user.password %>">
  </div>
  <div>
    <input type="submit" value="Submit">
  </div>
</form>